---
layout: default
title: 포스트 작성
---

<div class="editor-container">
  <div class="editor-header">
    <h1>포스트 작성</h1>
    <div class="editor-actions">
      <button id="loadPostsBtn" class="btn btn-outline">포스트 불러오기</button>
      <button id="saveBtn" class="btn btn-primary">저장</button>
      <button id="downloadBtn" class="btn btn-outline">다운로드</button>
      <a href="/" class="btn btn-outline">목록으로</a>
    </div>
  </div>

  <div class="editor-form">
    <div class="form-group">
      <label for="postTitle">제목</label>
      <input type="text" id="postTitle" class="form-input" placeholder="포스트 제목을 입력하세요">
    </div>

    <div class="form-group">
      <label for="postTags">태그 (쉼표로 구분)</label>
      <input type="text" id="postTags" class="form-input" placeholder="예: Python, AI, 개발">
    </div>

    <div class="editor-wrapper">
      <div class="editor-panel notion-style">
        <div class="toolbar" id="toolbar">
          <div class="toolbar-group">
            <button type="button" class="toolbar-btn" data-command="bold" title="굵게 (Ctrl+B)">
              <strong>B</strong>
            </button>
            <button type="button" class="toolbar-btn" data-command="italic" title="기울임 (Ctrl+I)">
              <em>I</em>
            </button>
            <button type="button" class="toolbar-btn" data-command="underline" title="밑줄 (Ctrl+U)">
              <u>U</u>
            </button>
            <button type="button" class="toolbar-btn" data-command="strike" title="취소선">
              <s>S</s>
            </button>
          </div>
          <div class="toolbar-divider"></div>
          <div class="toolbar-group">
            <button type="button" class="toolbar-btn" data-command="heading" data-level="1" title="제목 1">
              H1
            </button>
            <button type="button" class="toolbar-btn" data-command="heading" data-level="2" title="제목 2">
              H2
            </button>
            <button type="button" class="toolbar-btn" data-command="heading" data-level="3" title="제목 3">
              H3
            </button>
          </div>
          <div class="toolbar-divider"></div>
          <div class="toolbar-group">
            <button type="button" class="toolbar-btn" data-command="bulletList" title="글머리 기호">
              •
            </button>
            <button type="button" class="toolbar-btn" data-command="orderedList" title="번호 목록">
              1.
            </button>
            <button type="button" class="toolbar-btn" data-command="blockquote" title="인용">
              "
            </button>
            <button type="button" class="toolbar-btn" data-command="codeBlock" title="코드 블록">
              &lt;/&gt;
            </button>
          </div>
          <div class="toolbar-divider"></div>
          <div class="toolbar-group">
            <button type="button" class="toolbar-btn" data-command="image" title="이미지 삽입">
              🖼️
            </button>
            <button type="button" class="toolbar-btn" data-command="link" title="링크">
              🔗
            </button>
            <button type="button" class="toolbar-btn" data-command="fullscreen" title="전체화면">
              ⛶
            </button>
          </div>
        </div>
        <input type="file" id="imageInput" accept="image/*" style="display: none;" multiple>
        <input type="text" id="imageUrlInput" style="display: none;" placeholder="이미지 URL">
        </div>
        <div id="notionEditor" class="notion-editor" contenteditable="true" placeholder="내용을 입력하세요... / 를 입력하면 명령어를 볼 수 있습니다"></div>
      </div>
    </div>
  </div>

  <!-- GitHub 저장 모달 -->
  <div id="githubModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>GitHub에 저장</h2>
        <button class="modal-close" id="closeModal">✕</button>
      </div>
      <div class="modal-body">
        <p>GitHub에 직접 저장하려면 Personal Access Token이 필요합니다.</p>
        <div class="form-group">
          <label for="githubToken">GitHub Token</label>
          <input type="password" id="githubToken" class="form-input" placeholder="ghp_...">
          <label class="checkbox-label">
            <input type="checkbox" id="saveToken"> 토큰 저장 (로컬 스토리지)
          </label>
          <small><a href="https://github.com/settings/tokens" target="_blank">토큰 생성하기</a></small>
        </div>
        <div class="form-group">
          <label for="commitMessage">커밋 메시지</label>
          <input type="text" id="commitMessage" class="form-input" value="새 포스트 추가" placeholder="커밋 메시지">
        </div>
      </div>
      <div class="modal-footer">
        <button id="saveToGitHubBtn" class="btn btn-primary">저장</button>
        <button id="cancelSaveBtn" class="btn btn-outline">취소</button>
      </div>
    </div>
  </div>

  <!-- 마크다운 도움말 모달 -->
  <div id="helpModal" class="modal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h2>마크다운 문법 도움말</h2>
        <button class="modal-close" id="closeHelpModal">✕</button>
      </div>
      <div class="modal-body">
        <div class="help-content">
          <h3>제목</h3>
          <pre><code># 제목 1
## 제목 2
### 제목 3</code></pre>

          <h3>강조</h3>
          <pre><code>**굵은 글씨**
*기울임*
`코드`</code></pre>

          <h3>리스트</h3>
          <pre><code>- 항목 1
- 항목 2
  - 하위 항목

1. 번호 리스트
2. 번호 리스트</code></pre>

          <h3>링크와 이미지</h3>
          <pre><code>[링크 텍스트](https://example.com)
![이미지 설명](이미지_URL)</code></pre>

          <h3>코드 블록</h3>
          <pre><code>```python
def hello():
    print("Hello!")
```</code></pre>

          <h3>인용문</h3>
          <pre><code>> 인용할 내용</code></pre>

          <h3>단축키</h3>
          <ul>
            <li><kbd>Ctrl/Cmd + S</kbd>: 저장</li>
            <li><kbd>Ctrl/Cmd + P</kbd>: 미리보기 토글</li>
            <li><kbd>Ctrl/Cmd + D</kbd>: 다운로드</li>
            <li><kbd>Esc</kbd>: 모달 닫기</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- 포스트 목록 모달 -->
  <div id="postsModal" class="modal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h2>포스트 목록</h2>
        <button class="modal-close" id="closePostsModal">✕</button>
      </div>
      <div class="modal-body">
        <div id="postsList" class="posts-list">
          <p class="loading">로딩 중...</p>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/marked@9.1.6/marked.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.6/purify.min.js"></script>
<script src="{{ '/assets/js/notion-editor.js' | relative_url }}"></script>

